generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Sender {
  id              Int    @id @default(autoincrement())
  id_object       Object[] 
  str_name        String @db.VarChar(70)
  str_phone       String @db.VarChar(20)
  str_CPF         String @unique @db.Char(11)
  str_state       String @db.VarChar(20)
  str_city        String @db.VarChar(30)
  str_neiborhood  String @db.VarChar(40)
  str_number      String @db.VarChar(6)
  str_CEP         String @db.Char(9)

  @@map("Senders")
}

model Recipient {
  id              Int    @id @default(autoincrement())
  id_object       Object[] 
  str_name        String @db.VarChar(70)
  str_phone       String @db.VarChar(20)
  str_CPF         String @unique @db.Char(11)
  str_state       String @db.VarChar(20)
  str_city        String @db.VarChar(30)
  str_neiborhood  String @db.VarChar(40)
  str_number      String @db.VarChar(6)
  str_CEP         String @db.Char(9)

  @@map("Recipients")
}

model Object {
  id               Int    @id @default(autoincrement())
  str_weight       String @db.VarChar(10)
  str_dimensions   String @db.VarChar(10)
  str_serviceType  String @db.VarChar(20)
  str_TrackingCod  String @db.VarChar(20)
  str_sender       Sender @relation(fields: [id_sender], references: [id])
  id_sender        Int
  str_recipient    Recipient @relation(fields: [id_recipient], references: [id])
  id_recipient     Int
  str_logObj       LogObject @relation(fields: [id_logObj], references: [id])
  id_logObj        Int

  @@map("Objects")
}

model LogObject {
  id                Int    @id @default(autoincrement())
  id_object         Object[]
  str_status        String @db.VarChar(50)
  dt_register       DateTime @default(now())
  str_descripition  String @db.Text

  @@map("LogObjects")
}